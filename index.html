<!doctype html><html xmlns=http://www.w3.org/1999/xhtml>
<head>
<meta name=generator content="Hugo 0.88.1">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Mandrake</title>
<link rel="shortcut icon" href=https://gtonkinhill.github.io/mandrake-web/favicon.ico type=image/x-icon>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet>
<link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css>
<link href=https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css rel=stylesheet>
<link rel=stylesheet href=https://gtonkinhill.github.io/mandrake-web/css/styles.css>
<link rel=stylesheet href=https://gtonkinhill.github.io/mandrake-web/css/custom.css>
</head>
<body>
<div class="sidebar sidebar-">
<div class=navigation>
<div>
<img src=https://gtonkinhill.github.io/mandrake-web/Mandragora.svg width=150 class=center>
</div>
<h1 class=site-title><a href=https://gtonkinhill.github.io/mandrake-web/>Mandrake</a></h1>
<nav class=internal>
<ul>
<li>
<a href=https://gtonkinhill.github.io/mandrake-web/parameters/>Parameters</a>
</li>
<li>
<a href=https://gtonkinhill.github.io/mandrake-web/algorithm/>Algorithm</a>
</li>
<li>
<a href=https://gtonkinhill.github.io/mandrake-web/citation/>Citation</a>
</li>
</ul>
</nav>
<nav class=external>
<div class=external-title></div>
</nav>
</div>
<div class=version>
generated on Oct 20, 2021
</div>
</div>
<script src=https://cdn.plot.ly/plotly-2.4.2.min.js></script>
<script src=//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js></script>
<div class=content>
<small>
<br style="display:block;content:''"></br>
<div class="card rounded" style="background-color:#d6d6d6;position:relative width:800px;margin:0 auto;max-width:900px">
<form>
<div class=form-group>
<div class="form-row align-items-center">
<div class="col-md-2 mb-0">
<label for=perplexity>Perplexity</label>
<input type=number class="form-control form-control-sm" name=perplexity id=perplexity value=15>
</div>
<div class="col-md-2 mb-0">
<label for=maxIter>Max Iterations</label>
<input type=number class="form-control form-control-sm" name=maxIter id=maxIter value=100000>
</div>
<div class="col-md-2 mb-0">
<label for=nRepuSamp>Neighbours</label>
<input type=number class="form-control form-control-sm" name=nRepuSamp id=nRepuSamp value=5>
</div>
<div class="col-md-2 mb-0">
<label for=eta0>Learning rate</label>
<input type=number class="form-control form-control-sm" name=eta0 id=eta0 value=1.0>
</div>
<div class="col-md-2 mb-0">
<label for=seed>Seed</label>
<input type=number class="form-control form-control-sm" name=seed id=seed value=1234>
</div>
<div class="col-md-2 mb-0">
<label for=bInit>Exaggeration</label>
<input type=checkbox data-toggle=toggle data-size=sm id=bInit name=bInit>
</div>
</div>
<div class=form-group>
<div class="form-row align-items-center">
<div class="col-md-2 mb-0">
<label>Distance method</label>
<div>
<div class=form-check>
<input class=form-check-input type=radio name=radiomethod id=snp value=snp checked>
<label class=form-check-label for=ir_id0>SNP distance</label>
</div>
<div class=form-check>
<input class=form-check-input type=radio name=radiomethod id=accessory value=accessory>
<label class=form-check-label for=ir_id1>Accessory</label>
</div>
<div class=form-check>
<input class=form-check-input type=radio name=radiomethod id=sketch value=sketch>
<label class=form-check-label for=ir_id2>Sketch</label>
</div>
</div>
</div>
<div class="col-md-3 mb-0">
<label for=threshold>Max distance</label>
<input type=number class="form-control form-control-sm" name=threshold id=threshold value=1e10>
</div>
<div class="col-md-3 mb-0">
<label for=knn>K nearest neighbours</label>
<input type=number class="form-control form-control-sm" name=knn id=knn value=10>
</div>
</div>
</div>
<div class=form-group>
<div class="form-row align-items-center">
<div class="col-md-4 mb-0">
<label for=filename>Input sequence file</label>
<div class=custom-file>
<input type=file class=custom-file-input name=filename id=filename multiple>
<label class=custom-file-label for=filename>Choose file</label>
</div>
</div>
<div class="col-md-4 mb-0">
<label for=filecolour>Colour categories</label>
<div class=custom-file>
<input type=file class=custom-file-input name=filecolour id=filecolour multiple>
<label class=custom-file-label for=filecolour>Choose file</label>
</div>
</div>
<div class="col-md-4 mb-0">
<button type=submit class="btn btn-primary btn-block" name=submit id=submit>run</button>
</div>
</div>
</div>
</form>
</div>
</small>
<script>$('#filename').on('change',function(){var a=document.getElementById('filename').files[0].name;$(this).next('.custom-file-label').html(a)}),$('#filecolour').on('change',function(){var a=document.getElementById('filecolour').files[0].name;$(this).next('.custom-file-label').html(a)})</script>
<script>function csvToArray(a,b=","){const c=a.slice(a.indexOf("\n")+1).split("\n")}</script>
<script>const worker=new Worker("js/worker.js"),form=document.getElementById('myForm');document.addEventListener('submit',function(c){document.getElementById("myDiv").innerHTML="";let b=document.getElementById("spinner");b.style.visibility='visible';let a=document.getElementById("logtxt");a.style.visibility='visible',c.preventDefault();const d=document.getElementById('filename').files,e=document.getElementById('filecolour').files,f=document.getElementById('perplexity').value,g=document.getElementById('maxIter').value,h=document.getElementById('nRepuSamp').value,i=document.getElementById('eta0').value,j=document.getElementById('bInit').checked?1:0,k=document.getElementById('seed').value,l=document.getElementById('threshold').value,m=document.getElementById('knn').value,n=document.querySelector('input[name="radiomethod"]:checked').value;worker.postMessage([d,f,g,h,i,j,1,k,l,m,n,e]),worker.onmessage=function(c){c.data[0].length<2?document.getElementById("logtxt").textContent=c.data:(b.style.visibility='hidden',a.style.visibility='hidden',Plotly.newPlot('myDiv',[{type:'scattergl',mode:'markers',marker:{color:c.data[1],colorscale:[[0,'rgb(166,206,227)'],[.1,'rgb(31,120,180)'],[.2,'rgb(178,223,138)'],[.3,'rgb(51,160,44)'],[.4,'rgb(251,154,153)'],[.5,'rgb(227,26,28)'],[.6,'rgb(253,191,111)'],[.7,'rgb(255,127,0)'],[.8,'rgb(202,178,214)'],[.9,'rgb(106,61,154)'],[1,'rgb(177,89,40)']]},x:c.data[0][0],y:c.data[0][1],text:c.data[1]}],{margin:{t:0}}))}})</script>
</div>
<br></br>
<div class="d-flex justify-content-center" style=visibility:hidden id=spinner>
<div class="spinner-border text-secondary" role=status>
<span class=sr-only>Loading...</span>
</div>
</div>
<div id=logtxt style="visibility:hidden;text-align:center;position:relative width:800px;margin:0 auto;max-width:900px">
Log: </div>
<div id=myDiv></div>